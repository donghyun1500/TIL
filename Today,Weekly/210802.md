# ì„±ìˆ™í•˜ë‹¤ëŠ” ê²ƒì€ ë‹¤ê°€ì˜¤ëŠ” ëª¨ë“  ìƒìƒí•œ ìœ„ê¸°ë¥¼ í”¼í•˜ì§€ ì•Šê³  ë§ˆì£¼í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.ğŸ§“

To be mature means to face, and not evade, every fresh crisis that comes.

## - í”„ë¦¬ì¸  ì¿¤ì¼ˆ - 

í”„ë¡ íŠ¸ ë¶„ë“¤ì´ ë¡œê·¸ì¸/íšŒì›ê°€ì… ê´€ë ¨í•˜ì—¬ ì¶”ê°€ë¡œ ìš”ì²­í•œ access tokenê³¼ refresh tokenì„ ë§ˆë¬´ë¦¬ í•˜ì˜€ë‹¤.

ì½”ë“œë¥¼ ë³´ìë©´ ë¡œê·¸ì¸ì‹œ ê¸°ì¡´ì—ì„œ accessTokenë§Œ ì¶”ê°€í•˜ì˜€ëŠ”ë° refreshTokenë„ ì¶”ê°€í•˜ì˜€ê³ ..

     const accessToken = createJwtToken(user.id);
     const refreshToken = jwt.sign(user.id, process.env.REFRESH_TOKEN_SECRET, {expiresIn: '7d'})
     res.status(200).json({
            ok: true, 
            message:'ë¡œê·¸ì¸ ì„±ê³µ',
            accessToken: accessToken, refreshToken: refreshToken, 
            email: email,
        });

ì´ëŸ°ì‹ìœ¼ë¡œ ì ì–´ë³´ì•˜ë‹¤..

ê·¸ë¦¬ê³  accessTokenì´ ë§Œë£Œë˜ë©´ refreshTokenì„ í™•ì¸ í›„ ë‹¤ì‹œ ìƒì„±í•´ì¤˜ì•¼ í•˜ê¸° ë–„ë¬¸ì—..

     router.post('/renewAccessToken', (req, res) => {
         const refreshToken = req.body.token;
         if (refreshToken == null) return res.sendStatus(401)
         if (refreshTokens.includes(refreshToken)) return res.sendStatus(403)

         jwt.verify(refreshToken, process.env.REFRESH_TOKEN_SECRET, (err, user) => {
             if(!err) {
                 const accessToken = createJwtToken(user.id);
                 return res.status(201).json({ accessToken: accessToken });
             } else {
                 return res.status(403).json({ message: 'User not authenticated'})
             }

         })
     });

ë”´ì§“ì„ ë§ì´ í•´ì„œ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë ¸ë‹¤.. ë¡œì»¬ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ê³  ë„˜ê²¨ë“œë ¤ì•¼ì§“! ğŸ˜­
