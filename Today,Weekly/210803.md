# 나는 행동이 사람의 생각을 가장 훌륭하게 해석해 준다고 늘 생각해왔다.🌤

I have always thought the actions of men the best interpreters of their thoughts.

## - 존 로크 -

오늘 클론 코딩 Node.JS 코드 리뷰가 있는 날!

튜터님께서 몇가지 조언을 해주셨고 그걸 좀 적어보고자 한다.

### raw quary보다 ORM을 사용하자..

why? 
1. SQL injection이 발생할 수 있음.
2. 인간 실수가 발생할 수 있음.(오타같은 휴먼에러 방지)
3. 수정에 따른 비용이 크다.

추가로!

비슷한 이유로 정규식 사용도 적절한 경우가 아니면 비추!

- ORM을 쓰다보면 불편한점.

1. N+1 문제로 커지지 않는다면 여러번 DB조회해도 괜찮다!(상수횟수)
2. DB를 순수하게 데이터 가져오는 용도(필요하면 join정도)로 사용하고 가공하는 처리는 서버에서 하자!
3. for문 안에서 await DB 조회하지 말것.

- 트리거 사용,store_procedure 사용도 좋지만 서버단에서 해결할 수 있다.
1. 관리 포인트를 단순화 시키는것이 좋다
2. 규모가 커진곳에서는 별도의 DBA가 관리를 할 수 있다.
3. 서버 대안
3-1. mongoose - pre,posthooks
3-2. sequelize hooks
3-3. django signal

- 여러 router에서 빈번하게 사용하는 부분은 model로 옮기자!!!!!

- api 응답별 어떤 데이터를 내려줄까?

변경된 객체를 다시 내려주면 좋다!!!

stats코드도 적절하게 사용하자!!!! (200,201,204,400등등)

SQL을 잘 몰라서 트리거,ORM 기타 등등 용어를 아직 정확하게 이해하진 못했지만..

일단 튜터님이 알려주신거니 기입해놓고 실전 프로젝트 하면서 틈틈히 공부해놔야겠다..

공부할것이 아주 산더미구나~~ㅋㅋㅋㅋ

출처 : 항해99 이용상 튜터님.
